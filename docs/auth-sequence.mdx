# Login Sequence Diagram

This document illustrates the login flow using a sequence diagram (ASCII),
showing interactions between the client, API Core, and Auth Service.

---

## Login Flow (ASCII Sequence Diagram)



```text
User / Client        API Core         Auth Service        Database
|                       |                 |                  |
| Enter credentials     |                 |                  |
|---------------------->|                 |                  |
|                       | Validate request|                  |
|                       |---------------->|                  |
|                       |                 | Find user        |
|                       |                 |---------------->|
|                       |                 | Verify password |
|                       |                 |---------------->|
|                       |                 | Generate JWT    |
|                       |                 |<----------------|
|                       | Return token    |                  |
|<----------------------|-----------------|                  |
| Store token           |                 |                  |
| Use JWT for APIs      |                 |                  |
|---------------------->| Verify JWT      |                  |
|                       |---------------->|                  |
|                       | Token valid     |                  |
|<----------------------|-----------------|                  |

---

## 1. Step-by-Step Explanation

1. User submits login credentials from client UI.
2. API Core receives and validates the request structure.
3. API Core forwards credentials to Auth Service.
4. Auth Service:
   - Retrieves user from database
   - Verifies hashed password
   - Generates JWT access token
5. Auth Service returns JWT to API Core.
6. API Core returns token to the client.
7. Client stores token securely.
8. Client uses JWT for subsequent authenticated requests.

---

## 2. Security Notes

- Passwords are never stored in plain text.
- JWT has an expiration time.
- Refresh tokens can be added as a future extension.
- All communication is over HTTPS.

---

## 3. Failure Scenarios (Simplified)

Invalid credentials

```text
Auth Service --> API Core --> Client (401 Unauthorized)

Expired token

API Core --> Client (401 Token Expired)



---
## 4. Future Enhancements

- Refresh token flow
- Multi-factor authentication (MFA)
- Rate limiting on login endpoint
- Device/session tracking


